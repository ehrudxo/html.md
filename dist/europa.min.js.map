{"version":3,"file":null,"sources":["../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_cof.js","../node_modules/core-js/library/modules/_iobject.js","../node_modules/core-js/library/modules/_defined.js","../node_modules/core-js/library/modules/_to-iobject.js","../node_modules/core-js/library/modules/_to-integer.js","../node_modules/core-js/library/modules/_to-length.js","../node_modules/core-js/library/modules/_to-index.js","../node_modules/core-js/library/modules/_array-includes.js","../node_modules/core-js/library/modules/_shared.js","../node_modules/core-js/library/modules/_uid.js","../node_modules/core-js/library/modules/_shared-key.js","../node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/core-js/library/modules/_object-keys.js","../node_modules/core-js/library/modules/_object-gops.js","../node_modules/core-js/library/modules/_object-pie.js","../node_modules/core-js/library/modules/_to-object.js","../node_modules/core-js/library/modules/_object-assign.js","../node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/core-js/library/fn/object/assign.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/core-js/library/modules/_iter-step.js","../node_modules/core-js/library/modules/_library.js","../node_modules/core-js/library/modules/_redefine.js","../node_modules/core-js/library/modules/_object-dps.js","../node_modules/core-js/library/modules/_html.js","../node_modules/core-js/library/modules/_object-create.js","../node_modules/core-js/library/modules/_wks.js","../node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/core-js/library/modules/_iter-create.js","../node_modules/core-js/library/modules/_object-gpo.js","../node_modules/core-js/library/modules/_iter-define.js","../node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/core-js/library/modules/_string-at.js","../node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/core-js/library/modules/_classof.js","../node_modules/core-js/library/modules/core.is-iterable.js","../node_modules/core-js/library/fn/is-iterable.js","../node_modules/babel-runtime/core-js/is-iterable.js","../node_modules/core-js/library/modules/core.get-iterator-method.js","../node_modules/core-js/library/modules/core.get-iterator.js","../node_modules/core-js/library/fn/get-iterator.js","../node_modules/babel-runtime/core-js/get-iterator.js","../node_modules/babel-runtime/helpers/slicedToArray.js","../node_modules/core-js/library/modules/_redefine-all.js","../node_modules/core-js/library/modules/_an-instance.js","../node_modules/core-js/library/modules/_iter-call.js","../node_modules/core-js/library/modules/_is-array-iter.js","../node_modules/core-js/library/modules/_for-of.js","../node_modules/core-js/library/modules/_set-species.js","../node_modules/core-js/library/modules/_meta.js","../node_modules/core-js/library/modules/_collection-strong.js","../node_modules/core-js/library/modules/_is-array.js","../node_modules/core-js/library/modules/_array-species-constructor.js","../node_modules/core-js/library/modules/_array-species-create.js","../node_modules/core-js/library/modules/_array-methods.js","../node_modules/core-js/library/modules/_collection.js","../node_modules/core-js/library/modules/es6.map.js","../node_modules/core-js/library/modules/_array-from-iterable.js","../node_modules/core-js/library/modules/_collection-to-json.js","../node_modules/core-js/library/modules/es7.map.to-json.js","../node_modules/core-js/library/fn/map.js","../node_modules/babel-runtime/core-js/map.js","../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/core-js/library/fn/object/define-property.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/babel-runtime/helpers/createClass.js","../node_modules/core-js/library/modules/_create-property.js","../node_modules/core-js/library/modules/_iter-detect.js","../node_modules/core-js/library/modules/es6.array.from.js","../node_modules/core-js/library/fn/array/from.js","../node_modules/babel-runtime/core-js/array/from.js","../node_modules/core-js/library/modules/_object-sap.js","../node_modules/core-js/library/modules/es6.object.keys.js","../node_modules/core-js/library/fn/object/keys.js","../node_modules/babel-runtime/core-js/object/keys.js","../node_modules/core-js/library/modules/_object-to-array.js","../node_modules/core-js/library/modules/es7.object.entries.js","../node_modules/core-js/library/fn/object/entries.js","../node_modules/babel-runtime/core-js/object/entries.js","../node_modules/europa-core/src/transformation.js","../node_modules/europa-core/src/transformer.js","../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../node_modules/core-js/library/fn/object/get-prototype-of.js","../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../node_modules/core-js/library/modules/_wks-ext.js","../node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/core-js/library/modules/_wks-define.js","../node_modules/core-js/library/modules/_keyof.js","../node_modules/core-js/library/modules/_enum-keys.js","../node_modules/core-js/library/modules/_object-gopn.js","../node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/core-js/library/modules/_object-gopd.js","../node_modules/core-js/library/modules/es6.symbol.js","../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/core-js/library/fn/symbol/index.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../node_modules/core-js/library/modules/_set-proto.js","../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../node_modules/core-js/library/fn/object/set-prototype-of.js","../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../node_modules/core-js/library/modules/es6.object.create.js","../node_modules/core-js/library/fn/object/create.js","../node_modules/babel-runtime/core-js/object/create.js","../node_modules/babel-runtime/helpers/inherits.js","../node_modules/europa-core/src/plugin/plugin.js","../node_modules/europa-core/src/plugin/predefined/anchor.js","../node_modules/europa-core/src/plugin/predefined/block-quote.js","../node_modules/europa-core/src/plugin/predefined/break.js","../node_modules/europa-core/src/plugin/predefined/code.js","../node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","../node_modules/core-js/library/fn/object/get-own-property-descriptor.js","../node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","../node_modules/babel-runtime/helpers/get.js","../node_modules/europa-core/src/plugin/predefined/strong.js","../node_modules/europa-core/src/plugin/predefined/definition-term.js","../node_modules/europa-core/src/plugin/predefined/details.js","../node_modules/europa-core/src/plugin/predefined/emphasis.js","../node_modules/europa-core/src/plugin/predefined/empty.js","../node_modules/europa-core/src/plugin/predefined/heading.js","../node_modules/europa-core/src/plugin/predefined/horizontal-rule.js","../node_modules/europa-core/src/plugin/predefined/image.js","../node_modules/europa-core/src/utilities.js","../node_modules/europa-core/src/plugin/predefined/list-item.js","../node_modules/europa-core/src/plugin/predefined/ordered-list.js","../node_modules/europa-core/src/plugin/predefined/paragraph.js","../node_modules/europa-core/src/plugin/predefined/preformatted.js","../node_modules/europa-core/src/plugin/preset/preset.js","../node_modules/europa-core/src/plugin/predefined/quote.js","../node_modules/europa-core/src/plugin/predefined/unordered-list.js","../node_modules/europa-core/src/plugin/preset/default.js","../node_modules/europa-core/src/europa.js","../node_modules/europa-core/src/service/window-service.js","../src/service/native-window-service.js","../src/index.js"],"sourcesContent":["// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};","exports.f = Object.getOwnPropertySymbols;","exports.f = {}.propertyIsEnumerable;","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = function(){ /* empty */ };","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};","module.exports = true;","module.exports = require('./_hide');","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};","module.exports = require('./_global').document && document.documentElement;","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function(it){\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    || Iterators.hasOwnProperty(classof(O));\n};","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};","var anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};","'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};","var isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};","'use strict';\nvar global         = require('./_global')\n  , $export        = require('./_export')\n  , meta           = require('./_meta')\n  , fails          = require('./_fails')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , forOf          = require('./_for-of')\n  , anInstance     = require('./_an-instance')\n  , isObject       = require('./_is-object')\n  , setToStringTag = require('./_set-to-string-tag')\n  , dP             = require('./_object-dp').f\n  , each           = require('./_array-methods')(0)\n  , DESCRIPTORS    = require('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')('Map', function(get){\n  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key){\n    var entry = strong.getEntry(this, key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value){\n    return strong.def(this, key === 0 ? 0 : key, value);\n  }\n}, strong, true);","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Map', {toJSON: require('./_collection-to-json')('Map')});","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nmodule.exports = require('../modules/_core').Map;","module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","'use strict';\nvar $defineProperty = require('./_object-dp')\n  , createDesc      = require('./_property-desc');\n\nmodule.exports = function(object, index, value){\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};","'use strict';\nvar ctx            = require('./_ctx')\n  , $export        = require('./_export')\n  , toObject       = require('./_to-object')\n  , call           = require('./_iter-call')\n  , isArrayIter    = require('./_is-array-iter')\n  , toLength       = require('./_to-length')\n  , createProperty = require('./_create-property')\n  , getIterFn      = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject')\n  , isEnum    = require('./_object-pie').f;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};","// https://github.com/tc39/proposal-object-values-entries\nvar $export  = require('./_export')\n  , $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it){\n    return $entries(it);\n  }\n});","require('../../modules/es7.object.entries');\nmodule.exports = require('../../modules/_core').Object.entries;","module.exports = { \"default\": require(\"core-js/library/fn/object/entries\"), __esModule: true };","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Contains contextual information for a single transformation process.\n *\n * @public\n */\nclass Transformation {\n\n  /**\n   * Creates an instance of {@link Transformation} for the specified <code>transformer</code> and using the\n   * <code>options</code> provided.\n   *\n   * @param {Transformer} transformer - the {@link Transformer} responsible for this transformation\n   * @param {Transformation~Options} options - the options to be used\n   * @public\n   */\n  constructor(transformer, options) {\n    /**\n     * The {@link Transformation} responsible for this {@link Transformation}.\n     *\n     * @public\n     * @type {Transformer}\n     */\n    this.transformer = transformer\n\n    /**\n     * The options for this {@link Transformation}.\n     *\n     * @public\n     * @type {Transformation~Options}\n     */\n    this.options = options\n\n    /**\n     * Indicates whether the buffer is at the start of the current line.\n     *\n     * @public\n     * @type {boolean}\n     */\n    this.atLeft = true\n\n    /**\n     * Indicates whether any white space should be removed from the start of the next output.\n     *\n     * @public\n     * @type {boolean}\n     */\n    this.atNoWhiteSpace = true\n\n    /**\n     * Indicates whether the buffer is at the start of a paragraph.\n     *\n     * @public\n     * @type {boolean}\n     */\n    this.atParagraph = true\n\n\n    /**\n     * The transformation output buffer to which the Markdown will be written.\n     *\n     * @public\n     * @type {string}\n     */\n    this.buffer = ''\n\n    /**\n     * The context for this {@link Transformation}.\n     *\n     * @public\n     * @type {Map<string, *>}\n     */\n    this.context = new Map()\n\n    /**\n     * Indicates whether the buffer is currently within a code block.\n     *\n     * @public\n     * @type {boolean}\n     */\n    this.inCodeBlock = false\n\n    /**\n     * Indicates whether the buffer is currently within an ordered list.\n     *\n     * @public\n     * @type {boolean}\n     */\n    this.inOrderedList = false\n\n    /**\n     * Indicates whether the buffer is currently within a preformatted block.\n     *\n     * @public\n     * @type {boolean}\n     */\n    this.inPreformattedBlock = false\n\n    /**\n     * The last string to be output next to the buffer.\n     *\n     * @public\n     * @type {string}\n     */\n    this.last = null\n\n    /**\n     * The start of the current line.\n     *\n     * @public\n     * @type {string}\n     */\n    this.left = '\\n'\n\n    /**\n     * The depth of nested lists.\n     *\n     * @public\n     * @type {number}\n     */\n    this.listDepth = 0\n\n    /**\n     * The one-based index for the current list item within the current list.\n     *\n     * @public\n     * @type {number}\n     */\n    this.listIndex = 1\n\n    /**\n     * The current stack of plugins.\n     *\n     * @public\n     * @type {Plugin[]}\n     */\n    this.pluginStack = []\n\n    /**\n     * The current document for this {@link Transformation}.\n     *\n     * @private\n     * @type {HTMLDocument}\n     */\n    this._document = transformer.document\n\n    /**\n     * The current element for this {@link Transformation}.\n     *\n     * @private\n     * @type {Element}\n     */\n    this._element = null\n\n    /**\n     * The name of the tag for the current element for this {@link Transformation}.\n     *\n     * @private\n     * @type {string}\n     */\n    this._tagName = null\n\n    /**\n     * The current window for this {@link Transformation}.\n     *\n     * @private\n     * @type {Window}\n     */\n    this._window = transformer.window\n  }\n\n  /**\n   * Appends the last output string to the buffer and then queues the specified <code>string</code> to be output.\n   *\n   * @param {string} string - the string to be appended\n   * @return {Transformation} A reference to this {@link Transformation} for chaining purposes.\n   * @public\n   */\n  append(string) {\n    if (this.last != null) {\n      this.buffer += this.last\n    }\n\n    this.last = string\n\n    return this\n  }\n\n  /**\n   * Appends a paragraph to the output buffer.\n   *\n   * @return {Transformation} A reference to this {@link Transformation} for chaining purposes.\n   * @public\n   */\n  appendParagraph() {\n    if (this.atParagraph) {\n      return this\n    }\n\n    if (!this.atLeft) {\n      this.append(this.left)\n\n      this.atLeft = true\n    }\n\n    this.append(this.left)\n\n    this.atNoWhiteSpace = true\n    this.atParagraph = true\n\n    return this\n  }\n\n  /**\n   * Outputs the specified <code>string</code> to the buffer.\n   *\n   * Optionally, <code>string</code> can be \"cleaned\" before being output. Doing so will replace any certain special\n   * characters as well as some white space.\n   *\n   * @param {string} string - the string to be output\n   * @param {boolean} [clean=false] - <code>true</code> to clean <code>string</code>; otherwise <code>false</code>\n   * @return {Transformation} A reference to this {@link Transformation} for chaining purposes.\n   * @public\n   */\n  output(string, clean) {\n    if (!string) {\n      return this\n    }\n\n    string = string.replace(/\\r\\n/g, '\\n')\n\n    if (clean) {\n      string = string.replace(/\\n([ \\t]*\\n)+/g, '\\n')\n        .replace(/\\n[ \\t]+/g, '\\n')\n        .replace(/[ \\t]+/g, ' ')\n\n      for (const [ key, expression ] of Object.entries(Transformation.REPLACEMENTS)) {\n        string = string.replace(Transformation.REPLACEMENTS_REGEXP[key], expression)\n      }\n    }\n\n    if (!this.inPreformattedBlock) {\n      if (this.atNoWhiteSpace) {\n        string = string.replace(/^[ \\t\\n]+/, '')\n      } else if (/^[ \\t]*\\n/.test(string)) {\n        string = string.replace(/^[ \\t\\n]+/, '\\n')\n      } else {\n        string = string.replace(/^[ \\t]+/, ' ')\n      }\n    }\n\n    if (!string) {\n      return this\n    }\n\n    this.atLeft = /\\n$/.test(string)\n    this.atNoWhiteSpace = /[ \\t\\n]$/.test(string)\n    this.atParagraph = /\\n{2}$/.test(string)\n\n    return this.append(string.replace(/\\n/g, this.left))\n  }\n\n  /**\n   * Replaces the start of the current line with the <code>string</code> provided.\n   *\n   * @param {string} string - the string to replace the start of the current line\n   * @return {Transformation} A reference to this {@link Transformation} for chaining purposes.\n   * @public\n   */\n  replaceLeft(string) {\n    if (!this.atLeft) {\n      this.append(this.left.replace(/[ ]{2,4}$/, string))\n\n      this.atLeft = true\n      this.atNoWhiteSpace = true\n      this.atParagraph = true\n    } else if (this.last) {\n      this.last = this.last.replace(/[ ]{2,4}$/, string)\n    }\n\n    return this\n  }\n\n  /**\n   * Returns the HTML document for this {@link Transformation}.\n   *\n   * This may not be the same document as is associated with the {@link Transformer} as this document may be nested\n   * (e.g. a frame).\n   *\n   * @return {HTMLDocument} The HTML document.\n   * @public\n   */\n  get document() {\n    return this._document\n  }\n\n  /**\n   * Returns the element for this {@link Transformation}.\n   *\n   * @return {Element} The element.\n   * @public\n   */\n  get element() {\n    return this._element\n  }\n\n  /**\n   * Sets the element for this {@link Transformation} to <code>value</code>.\n   *\n   * @param {Element} value - the element to be set\n   * @public\n   */\n  set element(value) {\n    this._element = value\n    this._tagName = value && value.tagName ? value.tagName.toLowerCase() : null\n  }\n\n  /**\n   * Returns the name of the tag for this {@link Transformation}.\n   *\n   * This will be the lower case tag name.\n   *\n   * @return {string} The tag name.\n   * @public\n   */\n  get tagName() {\n    return this._tagName\n  }\n\n  /**\n   * Returns the window for this {@link Transformation}.\n   *\n   * This may not be the same window as is associated with the {@link Transformer} as this window may be nested (e.g. a\n   * frame).\n   *\n   * @return {Window} The window.\n   * @public\n   */\n  get window() {\n    return this._window\n  }\n\n  /**\n   * Sets the window for this {@link Transformation} to <code>value</code>.\n   *\n   * @param {Window} value - the window to be set\n   * @public\n   */\n  set window(value) {\n    this._window = value\n    this._document = value ? value.document : null\n  }\n\n}\n\n/**\n * A map of special characters and their replacements.\n *\n * @public\n * @static\n * @type {Object<string, string>}\n */\nTransformation.REPLACEMENTS = {\n  '\\\\\\\\': '\\\\\\\\',\n  '\\\\[': '\\\\[',\n  '\\\\]': '\\\\]',\n  '>': '\\\\>',\n  '_': '\\\\_',\n  '\\\\*': '\\\\*',\n  '`': '\\\\`',\n  '#': '\\\\#',\n  '([0-9])\\\\.(\\\\s|$)': '$1\\\\.$2',\n  '\\u00a9': '(c)',\n  '\\u00ae': '(r)',\n  '\\u2122': '(tm)',\n  '\\u00a0': ' ',\n  '\\u00b7': '\\\\*',\n  '\\u2002': ' ',\n  '\\u2003': ' ',\n  '\\u2009': ' ',\n  '\\u2018': '\\'',\n  '\\u2019': '\\'',\n  '\\u201c': '\"',\n  '\\u201d': '\"',\n  '\\u2026': '...',\n  '\\u2013': '--',\n  '\\u2014': '---'\n}\n\n/**\n * A map of special characters and the regular expression used to identify them.\n *\n * @public\n * @static\n * @type {Object<string, RegExp>}\n */\nTransformation.REPLACEMENTS_REGEXP = {}\nfor (const key of Object.keys(Transformation.REPLACEMENTS)) {\n  Transformation.REPLACEMENTS_REGEXP[key] = new RegExp(key, 'g')\n}\n\nexport { Transformation }\n\n/**\n * The options for {@link Transformation}.\n *\n * @typedef {Object} Transformation~Options\n * @property {boolean} [absolute=false] - <code>true</code> if absolute URLs should be used for anchors/images;\n * otherwise <code>false</code>.\n * @property {string} [baseUri] - the base URI for the window\n * @property {boolean} [inline=false] - <code>true</code> if anchor/image URLs are to be inserted inline; otherwise\n * <code>false</code>.\n */\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Transformation } from './transformation'\n\n/**\n * Transforms an HTML string or DOM element into Markdown.\n *\n * @public\n */\nclass Transformer {\n\n  /**\n   * Creates an instance of {@link Transformer} using the specified <code>window</code> and <code>plugins</code>.\n   *\n   * @param {Window} window - the <code>Window</code> to be used\n   * @param {Map<string, Plugin>} plugins - the plugins to be used\n   * @public\n   */\n  constructor(window, plugins) {\n    /**\n     * The <code>Window</code> for this {@link Transformer}.\n     *\n     * @public\n     * @type {Window}\n     */\n    this.window = window\n\n    /**\n     * The <code>HTMLDocument</code> for this {@link Transformer}.\n     *\n     * @public\n     * @type {HTMLDocument}\n     */\n    this.document = window.document\n\n    /**\n     * The plugins for this {@link Transformer}.\n     *\n     * @private\n     * @type {Map<string, Plugin>}\n     */\n    this._plugins = plugins\n  }\n\n  /**\n   * Transforms the specified <code>html</code> into Markdown using the <code>options</code> provided.\n   *\n   * <code>html</code> can either be an HTML string or a DOM element whose HTML contents are to be transformed into\n   * Markdown.\n   *\n   * @param {Element|string} html - the HTML (or element whose inner HTML) to be transformed into Markdown\n   * @param {Transformation~Options} options - the options to be used\n   * @return {string} The transformed Markdown.\n   * @public\n   */\n  transform(html, options) {\n    if (!html) {\n      return ''\n    }\n\n    let root\n    if (typeof html === 'string') {\n      root = this.document.createElement('div')\n      root.innerHTML = html\n    } else {\n      root = html\n    }\n\n    const transformation = new Transformation(this, options)\n\n    for (const plugin of this._plugins.values()) {\n      plugin.beforeAll(transformation)\n    }\n\n    this.transformElement(root, transformation)\n\n    for (const plugin of this._plugins.values()) {\n      plugin.afterAll(transformation)\n    }\n\n    return transformation.append('').buffer.trim()\n  }\n\n  /**\n   * Transforms the specified <code>element</code> and it's children into Markdown using the <code>transformation</code>\n   * provided.\n   *\n   * Nothing happens if <code>element</code> is <code>null</code> or is invisible (simplified detection used).\n   *\n   * @param {Element} element - the element to be transformed into Markdown as well as it's children\n   * @param {Transformation} transformation - the current {@link Transformation}\n   * @return {void}\n   * @public\n   */\n  transformElement(element, transformation) {\n    if (!element) {\n      return\n    }\n\n    if (element.nodeType === this.window.Node.ELEMENT_NODE) {\n      if (!this._isVisible(element)) {\n        return\n      }\n\n      transformation.element = element\n\n      const context = new Map()\n      const plugin = this._plugins.get(transformation.tagName)\n      let transformChildren = true\n      if (plugin) {\n        transformation.pluginStack.push(plugin)\n\n        plugin.before(transformation, context)\n        transformChildren = plugin.transform(transformation, context)\n      }\n\n      if (transformChildren) {\n        for (const child of Array.from(element.childNodes)) {\n          this.transformElement(child, transformation)\n        }\n      }\n\n      if (plugin) {\n        plugin.after(transformation, context)\n\n        transformation.pluginStack.pop()\n      }\n    } else if (element.nodeType === this.window.Node.TEXT_NODE) {\n      const value = element.nodeValue || ''\n\n      if (transformation.inPreformattedBlock) {\n        transformation.output(value)\n      } else if (transformation.inCodeBlock) {\n        transformation.output(value.replace(/`/g, '\\\\`'))\n      } else {\n        transformation.output(value, true)\n      }\n    }\n  }\n\n  /**\n   * Checks whether the specified <code>element</code> is currently visible.\n   *\n   * This is not a very sophisticated check and could easily be mistaken, but it should catch a lot of the most simple\n   * cases.\n   *\n   * @param {Element} element - the element whose visibility is to be checked\n   * @return {boolean} <code>true</code> if <code>element</code> is visible; otherwise <code>false</code>.\n   * @private\n   */\n  _isVisible(element) {\n    const style = this.window.getComputedStyle(element)\n\n    return style.getPropertyValue('display') !== 'none' && style.getPropertyValue('visibility') !== 'hidden'\n  }\n\n}\n\nexport { Transformer }\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject        = require('./_to-object')\n  , $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function(){\n  return function getPrototypeOf(it){\n    return $getPrototypeOf(toObject(it));\n  };\n});","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","exports.f = require('./_wks');","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var global         = require('./_global')\n  , core           = require('./_core')\n  , LIBRARY        = require('./_library')\n  , wksExt         = require('./_wks-ext')\n  , defineProperty = require('./_object-dp').f;\nmodule.exports = function(name){\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});\n};","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys')\n  , gOPS    = require('./_object-gops')\n  , pIE     = require('./_object-pie');\nmodule.exports = function(it){\n  var result     = getKeys(it)\n    , getSymbols = gOPS.f;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = pIE.f\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);\n  } return result;\n};","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys      = require('./_object-keys-internal')\n  , hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){\n  return $keys(O, hiddenKeys);\n};","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject')\n  , gOPN      = require('./_object-gopn').f\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return gOPN(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it){\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE            = require('./_object-pie')\n  , createDesc     = require('./_property-desc')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , has            = require('./_has')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , gOPD           = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P){\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if(IE8_DOM_DEFINE)try {\n    return gOPD(O, P);\n  } catch(e){ /* empty */ }\n  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);\n};","'use strict';\n// ECMAScript 6 symbols shim\nvar global         = require('./_global')\n  , has            = require('./_has')\n  , DESCRIPTORS    = require('./_descriptors')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , META           = require('./_meta').KEY\n  , $fails         = require('./_fails')\n  , shared         = require('./_shared')\n  , setToStringTag = require('./_set-to-string-tag')\n  , uid            = require('./_uid')\n  , wks            = require('./_wks')\n  , wksExt         = require('./_wks-ext')\n  , wksDefine      = require('./_wks-define')\n  , keyOf          = require('./_keyof')\n  , enumKeys       = require('./_enum-keys')\n  , isArray        = require('./_is-array')\n  , anObject       = require('./_an-object')\n  , toIObject      = require('./_to-iobject')\n  , toPrimitive    = require('./_to-primitive')\n  , createDesc     = require('./_property-desc')\n  , _create        = require('./_object-create')\n  , gOPNExt        = require('./_object-gopn-ext')\n  , $GOPD          = require('./_object-gopd')\n  , $DP            = require('./_object-dp')\n  , $keys          = require('./_object-keys')\n  , gOPD           = $GOPD.f\n  , dP             = $DP.f\n  , gOPN           = gOPNExt.f\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , PROTOTYPE      = 'prototype'\n  , HIDDEN         = wks('_hidden')\n  , TO_PRIMITIVE   = wks('toPrimitive')\n  , isEnum         = {}.propertyIsEnumerable\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , OPSymbols      = shared('op-symbols')\n  , ObjectProto    = Object[PROTOTYPE]\n  , USE_NATIVE     = typeof $Symbol == 'function'\n  , QObject        = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(dP({}, 'a', {\n    get: function(){ return dP(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = gOPD(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  dP(it, key, D);\n  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){\n  return typeof it == 'symbol';\n} : function(it){\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if(has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  it  = toIObject(it);\n  key = toPrimitive(key, true);\n  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;\n  var D = gOPD(it, key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = gOPN(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var IS_OP  = it === ObjectProto\n    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i){\n    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif(!USE_NATIVE){\n  $Symbol = function Symbol(){\n    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function(value){\n      if(this === ObjectProto)$set.call(OPSymbols, value);\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f   = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f  = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./_library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function(name){\n    return wrap(wks(name));\n  }\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});\n\nfor(var symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);\n\nfor(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    if(isSymbol(key))return keyOf(SymbolRegistry, key);\n    throw TypeError(key + ' is not a symbol!');\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it){\n    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n    var args = [it]\n      , i    = 1\n      , replacer, $replacer;\n    while(arguments.length > i)args.push(arguments[i++]);\n    replacer = args[1];\n    if(typeof replacer == 'function')$replacer = replacer;\n    if($replacer || !isArray(replacer))replacer = function(key, value){\n      if($replacer)value = $replacer.call(this, key, value);\n      if(!isSymbol(value))return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);","require('./_wks-define')('asyncIterator');","require('./_wks-define')('observable');","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object')\n  , anObject = require('./_an-object');\nvar check = function(O, proto){\n  anObject(O);\n  if(!isObject(proto) && proto !== null)throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function(test, buggy, set){\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch(e){ buggy = true; }\n      return function setPrototypeOf(O, proto){\n        check(O, proto);\n        if(buggy)O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', {setPrototypeOf: require('./_set-proto').set});","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","var $export = require('./_export')\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', {create: require('./_object-create')});","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D){\n  return $Object.create(P, D);\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint no-empty-function: \"off\" */\n\n/**\n * A plugin that can tap into multiple parts in the transformation process.\n *\n * @public\n */\nclass Plugin {\n\n  /**\n   * Called after {@link Plugin#transform} <b>and</b> only once all children elements have been transformed as well,\n   * provided they weren't skipped, and intended for tidying up after the transformation.\n   *\n   * <code>context</code> can be used to receive any state for a single element transformation from\n   * {@link Plugin#before} and {@link Plugin#transform}.\n   *\n   * @param {Transformation} transformation - the current {@link Transformation}\n   * @param {Map<string, *>} context - the current context for this {@link Plugin}\n   * @return {void}\n   * @public\n   */\n  after(transformation, context) {}\n\n  /**\n   * Called before any elements are transformed and intended to setup this {@link Plugin} initially.\n   *\n   * @param {Transformation} transformation - the current {@link Transformation}.\n   * @return {void}\n   * @public\n   */\n  afterAll(transformation) {}\n\n  /**\n   * Called immediately before {@link Plugin#transform} and intended for preparing this {@link Plugin} for\n   * transformation.\n   *\n   * <code>context</code> can be used to pass any state for a single element transformation to {@link Plugin#transform}\n   * and then to {@link Plugin#after}.\n   *\n   * @param {Transformation} transformation - the current {@link Transformation}\n   * @param {Map<string, *>} context - the current context for this {@link Plugin}\n   * @return {void}\n   * @public\n   */\n  before(transformation, context) {}\n\n  /**\n   * Called after all elements have been transformed and intended to completing any steps for this {@link Plugin}.\n   *\n   * @param {Transformation} transformation - the current {@link Transformation}\n   * @return {void}\n   * @public\n   */\n  beforeAll(transformation) {}\n\n  /**\n   * Transforms the current element within the specified <code>transformation</code> which can be used to provide\n   * control over the transformation and returns whether the children of the element should be transformed.\n   *\n   * <code>context</code> can be used to pass any state for a single element transformation from {@link Plugin#before}\n   * to {@link Plugin#after}.\n   *\n   * @param {Transformation} transformation - the current {@link Transformation}\n   * @param {Map<string, *>} context - the current context for this {@link Plugin}\n   * @return {boolean} <code>true</code> if the children of the current element should be transformed; otherwise\n   * <code>false</code>.\n   * @public\n   */\n  transform(transformation, context) {\n    return true\n  }\n\n}\n\nexport { Plugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which extracts the URL from an anchor. Anchors without an <code>href</code> are treated as plain\n * text.\n *\n * If the <code>absolute</code> option is enabled, then the URL extracted from the anchor will be absolute. Otherwise,\n * the URL will be exactly as it is in the <code>href</code> attribute.\n *\n * If the <code>inline</code> option is enabled, then the URL (and any <code>title</code> on the anchor) will be\n * inserted immediately after the anchor contents (e.g. <code>[foo](/bar)</code>). Otherwise, all unique URL and title\n * combinations will be indexed (e.g. <code>[foo][anchor0]</code>) and the references will be output at the very end.\n *\n * @public\n * @extends {Plugin}\n */\nclass AnchorPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    if (context.has('value')) {\n      transformation.output(`]${context.get('value')}`)\n    }\n  }\n\n  /**\n   * @override\n   */\n  afterAll(transformation) {\n    const anchors = transformation.context.get('anchors')\n    if (!anchors.length) {\n      return\n    }\n\n    transformation.append('\\n\\n')\n\n    for (let i = 0; i < anchors.length; i++) {\n      transformation.append(`[anchor${i}]: ${anchors[i]}\\n`)\n    }\n  }\n\n  /**\n   * @override\n   */\n  beforeAll(transformation) {\n    transformation.context.set('anchorMap', new Map())\n    transformation.context.set('anchors', [])\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const { element, options } = transformation\n    const href = options.absolute ? element.href : element.getAttribute('href')\n    if (!href) {\n      return true\n    }\n\n    const title = element.getAttribute('title')\n    const value = title ? `${href} \"${title}\"` : href\n\n    if (options.inline) {\n      context.set('value', `(${value})`)\n    } else {\n      const anchorMap = transformation.context.get('anchorMap')\n      const anchors = transformation.context.get('anchors')\n      let index = anchorMap.get(value)\n      if (index == null) {\n        index = anchors.push(value) - 1\n\n        anchorMap.set(value, index)\n      }\n\n      context.set('value', `[anchor${index}]`)\n    }\n\n    transformation.output('[')\n\n    transformation.atNoWhiteSpace = true\n\n    return true\n  }\n\n}\n\nexport { AnchorPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs the contents in a block quote.\n *\n * @public\n * @extends {Plugin}\n */\nclass BlockQuotePlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.atLeft = false\n    transformation.atParagraph = false\n    transformation.left = context.get('previousLeft')\n\n    transformation.appendParagraph()\n  }\n\n  /**\n   * @override\n   */\n  before(transformation, context) {\n    context.set('previousLeft', transformation.left)\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const value = '> '\n\n    transformation.left += value\n\n    if (transformation.atParagraph) {\n      transformation.append(value)\n    } else {\n      transformation.appendParagraph()\n    }\n\n    return true\n  }\n\n}\n\nexport { BlockQuotePlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs an inline line break.\n *\n * @public\n * @extends {Plugin}\n */\nclass BreakPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation.append(`  ${transformation.left}`)\n\n    transformation.atLeft = true\n    transformation.atNoWhiteSpace = true\n\n    return false\n  }\n\n}\n\nexport { BreakPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs the contents in a code block.\n *\n * @public\n * @extends {Plugin}\n */\nclass CodePlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    if (!context.get('skipped')) {\n      transformation.inCodeBlock = context.get('previousInCodeBlock')\n\n      transformation.output('`')\n    }\n  }\n\n  /**\n   * @override\n   */\n  before(transformation, context) {\n    context.set('previousInCodeBlock', transformation.inCodeBlock)\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    if (transformation.inPreformattedBlock) {\n      context.set('skipped', true)\n    } else {\n      transformation.output('`')\n\n      transformation.inCodeBlock = true\n    }\n\n    return true\n  }\n\n}\n\nexport { CodePlugin }\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject                 = require('./_to-iobject')\n  , $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function(){\n  return function getOwnPropertyDescriptor(it, key){\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key){\n  return $Object.getOwnPropertyDescriptor(it, key);\n};","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _getPrototypeOf = require(\"../core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _getOwnPropertyDescriptor = require(\"../core-js/object/get-own-property-descriptor\");\n\nvar _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);\n\n  if (desc === undefined) {\n    var parent = (0, _getPrototypeOf2.default)(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs as strong text.\n *\n * @public\n * @extends {Plugin}\n */\nclass StrongPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.output('**')\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation.output('**')\n\n    transformation.atNoWhiteSpace = true\n\n    return true\n  }\n\n}\n\nexport { StrongPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { StrongPlugin } from './strong'\n\n/**\n * A {@link Plugin} which outputs a definition term as strong text.\n *\n * @public\n * @extends {StrongPlugin}\n */\nclass DefinitionTermPlugin extends StrongPlugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation.appendParagraph()\n\n    return super.transform(transformation, context)\n  }\n\n}\n\nexport { DefinitionTermPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs a details section.\n *\n * If the details has an <code>open</code> attribute then all of its children are transformed. Otherwise, only the\n * nested <code>summary</code>, if any, will be transformed.\n *\n * @public\n * @extends {Plugin}\n */\nclass DetailsPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const { element } = transformation\n\n    transformation.appendParagraph()\n\n    if (element.hasAttribute('open')) {\n      return true\n    }\n\n    const summary = element.querySelector('summary')\n    transformation.transformer.transformElement(summary, transformation)\n\n    return false\n  }\n\n}\n\nexport { DetailsPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs as emphasised text.\n *\n * @public\n * @extends {Plugin}\n */\nclass EmphasisPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.output('_')\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation.output('_')\n\n    transformation.atNoWhiteSpace = true\n\n    return true\n  }\n\n}\n\nexport { EmphasisPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which simply ensures that all children elements are not transformed.\n *\n * @public\n * @extends {Plugin}\n */\nclass EmptyPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    return false\n  }\n\n}\n\nexport { EmptyPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs a heading of various levels.\n *\n * @public\n * @extends {Plugin}\n */\nclass HeadingPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const level = parseInt(transformation.tagName.match(/([1-6])$/)[1], 10)\n\n    transformation.appendParagraph()\n\n    let heading = ''\n    for (let i = 0; i < level; i++) {\n      heading += '#'\n    }\n\n    transformation.output(`${heading} `)\n\n    return true\n  }\n\n}\n\nexport { HeadingPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs a horizontal rule.\n *\n * @public\n * @extends {Plugin}\n */\nclass HorizontalRulePlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation\n      .appendParagraph()\n      .output('---')\n      .appendParagraph()\n\n    return false\n  }\n\n}\n\nexport { HorizontalRulePlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which extracts the URL from an image.\n *\n * If the <code>absolute</code> option is enabled, then the URL extracted from the image will be absolute. Otherwise,\n * the URL will be exactly as it is in the <code>src</code> attribute.\n *\n * If the <code>inline</code> option is enabled, then the URL will be inserted immediately after the <code>alt</code> on\n * the image (e.g. <code>![foo](/bar.png)</code>). Otherwise, all unique URLs will be indexed\n * (e.g. <code>![foo][image0]</code>) and the references will be output at the very end.\n *\n * @public\n * @extends {Plugin}\n */\nclass ImagePlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  afterAll(transformation) {\n    const images = transformation.context.get('images')\n    if (!images.length) {\n      return\n    }\n\n    transformation.append('\\n\\n')\n\n    for (let i = 0; i < images.length; i++) {\n      transformation.append(`[image${i}]: ${images[i]}\\n`)\n    }\n  }\n\n  /**\n   * @override\n   */\n  beforeAll(transformation) {\n    transformation.context.set('imageMap', new Map())\n    transformation.context.set('images', [])\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const { element, options } = transformation\n    const source = options.absolute ? element.src : element.getAttribute('src')\n    if (!source) {\n      return false\n    }\n\n    const alternativeText = element.getAttribute('alt') || ''\n    const title = element.getAttribute('title')\n    let value = title ? `${source} \"${title}\"` : source\n\n    if (options.inline) {\n      value = `(${value})`\n    } else {\n      const imageMap = transformation.context.get('imageMap')\n      const images = transformation.context.get('images')\n      let index = imageMap.get(value)\n      if (index == null) {\n        index = images.push(value) - 1\n\n        imageMap.set(value, index)\n      }\n\n      value = `[image${index}]`\n    }\n\n    transformation.output(`![${alternativeText}]${value}`)\n\n    return false\n  }\n\n}\n\nexport { ImagePlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * Contains utility methods that are useful throughout the library.\n *\n * @public\n */\nclass Utilities {\n\n  /**\n   * Left pads the <code>string</code> provided with the given padding string for the specified number of\n   * <code>times</code>.\n   *\n   * @param {string} [string=\"\"] - the string to be padded\n   * @param {number} [times=0] - the number of times to pad <code>string</code>\n   * @param {string} [padding=\" \"] - the padding string\n   * @return {string} The padded <code>string</code>.\n   * @public\n   * @static\n   */\n  static leftPad(string = '', times = 0, padding = ' ') {\n    if (!padding) {\n      return string\n    }\n\n    for (let i = 0; i < times; i++) {\n      string = padding + string\n    }\n\n    return string\n  }\n\n  /**\n   * Throws an error indicating that the a given method on a specific class has not been implemented.\n   *\n   * @param {string} className - the name of the class on which the method has not been implemented\n   * @param {string} methodName - the name of the method which has not been implemented\n   * @return {void}\n   * @throws {Error} The error describing the class method which has not been implemented.\n   * @public\n   * @static\n   */\n  static throwUnimplemented(className, methodName) {\n    throw new Error(`\"${methodName}\" method must be implemented on the ${className} class`)\n  }\n\n}\n\nexport { Utilities }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\nimport { Utilities } from '../../utilities'\n\n/**\n * A {@link Plugin} which outputs a list item. The prefix for the list item will vary depending on what type of list the\n * item is contained within.\n *\n * @public\n * @extends {Plugin}\n */\nclass ListItemPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const value = transformation.inOrderedList ? `${transformation.listIndex++}. ` : '* '\n\n    if (!transformation.atLeft) {\n      transformation.append(transformation.left.replace(/[ ]{2,4}$/, '\\n'))\n\n      transformation.atLeft = true\n      transformation.atNoWhiteSpace = true\n      transformation.atParagraph = true\n    } else if (transformation.last) {\n      transformation.last = transformation.last.replace(/[ ]{2,4}$/, '\\n')\n    }\n\n    transformation.append(Utilities.leftPad(value, (transformation.listDepth - 1) * 2))\n\n    return true\n  }\n\n}\n\nexport { ListItemPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs an ordered list.\n *\n * @public\n * @extends {Plugin}\n */\nclass OrderedListPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.inOrderedList = context.get('previousInOrderedList')\n    transformation.listIndex = context.get('previousListIndex')\n    transformation.listDepth--\n  }\n\n  /**\n   * @override\n   */\n  before(transformation, context) {\n    context.set('previousInOrderedList', transformation.inOrderedList)\n    context.set('previousListIndex', transformation.listIndex)\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    if (transformation.listDepth === 0) {\n      transformation.appendParagraph()\n    }\n\n    transformation.inOrderedList = true\n    transformation.listIndex = 1\n    transformation.listDepth++\n\n    return true\n  }\n\n}\n\nexport { OrderedListPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs a paragraph.\n *\n * @public\n * @extends {Plugin}\n */\nclass ParagraphPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation.appendParagraph()\n\n    return true\n  }\n\n}\n\nexport { ParagraphPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs the contents in a preformatted block.\n *\n * @public\n * @extends {Plugin}\n */\nclass PreformattedPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.atLeft = false\n    transformation.atParagraph = false\n    transformation.inPreformattedBlock = context.get('previousInPreformattedBlock')\n    transformation.left = context.get('previousLeft')\n\n    transformation.appendParagraph()\n  }\n\n  /**\n   * @override\n   */\n  before(transformation, context) {\n    context.set('previousInPreformattedBlock', transformation.inPreformattedBlock)\n    context.set('previousLeft', transformation.left)\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    const value = '    '\n\n    transformation.left += value\n\n    if (transformation.atParagraph) {\n      transformation.append(value)\n    } else {\n      transformation.appendParagraph()\n    }\n\n    return true\n  }\n\n}\n\nexport { PreformattedPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * A preset of plugins usually grouped for a specific purpose.\n *\n * @public\n */\nclass Preset {\n\n  /**\n   * Creates an instance of {@link Preset}.\n   *\n   * @public\n   */\n  constructor() {\n    /**\n     * The plugins for this {@link Preset}.\n     *\n     * @private\n     * @type {Map<string[], Plugin>}\n     */\n    this._plugins = new Map()\n  }\n\n  /**\n   * Sets the specified <code>plugin</code> for the <code>tags</code> provided.\n   *\n   * @param {string[]} tags - the tag names to which <code>plugin</code> will be registered\n   * @param {Plugin} plugin - the {@link Plugin} to be registered against <code>tags</code>\n   * @return {Preset} A reference to this {@link Preset} for chaining purposes.\n   * @public\n   */\n  set(tags, plugin) {\n    this._plugins.set(tags, plugin)\n\n    return this\n  }\n\n  /**\n   * Sets all of the specified <code>plugins</code> to be registered against their mapped tag names.\n   *\n   * @param {Map<string[], Plugin>} plugins - a <code>Map</code> of plugins and tag names to which they are\n   * to be registered\n   * @return {Preset} A reference to this {@link Preset} for chaining purposes.\n   * @public\n   */\n  setAll(plugins) {\n    for (const [ tags, plugin ] of plugins) {\n      this._plugins.set(tags, plugin)\n    }\n\n    return this\n  }\n\n  /**\n   * Returns the plugins for this {@link Preset}.\n   *\n   * @return {Map<string[], Plugin>} The plugins.\n   * @public\n   */\n  get plugins() {\n    return new Map(this._plugins)\n  }\n\n}\n\nexport { Preset }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs as quoted text.\n *\n * @public\n * @extends {Plugin}\n */\nclass QuotePlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.output('\"')\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    transformation.output('\"')\n\n    transformation.atNoWhiteSpace = true\n\n    return true\n  }\n\n}\n\nexport { QuotePlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Plugin } from '../plugin'\n\n/**\n * A {@link Plugin} which outputs an unordered list.\n *\n * @public\n * @extends {Plugin}\n */\nclass UnorderedListPlugin extends Plugin {\n\n  /**\n   * @override\n   */\n  after(transformation, context) {\n    transformation.inOrderedList = context.get('previousInOrderedList')\n    transformation.listIndex = context.get('previousListIndex')\n    transformation.listDepth--\n  }\n\n  /**\n   * @override\n   */\n  before(transformation, context) {\n    context.set('previousInOrderedList', transformation.inOrderedList)\n    context.set('previousListIndex', transformation.listIndex)\n  }\n\n  /**\n   * @override\n   */\n  transform(transformation, context) {\n    if (transformation.listDepth === 0) {\n      transformation.appendParagraph()\n    }\n\n    transformation.inOrderedList = false\n    transformation.listIndex = 1\n    transformation.listDepth++\n\n    return true\n  }\n\n}\n\nexport { UnorderedListPlugin }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { AnchorPlugin } from '../predefined/anchor'\nimport { BlockQuotePlugin } from '../predefined/block-quote'\nimport { BreakPlugin } from '../predefined/break'\nimport { CodePlugin } from '../predefined/code'\nimport { DefinitionTermPlugin } from '../predefined/definition-term'\nimport { DetailsPlugin } from '../predefined/details'\nimport { EmphasisPlugin } from '../predefined/emphasis'\nimport { EmptyPlugin } from '../predefined/empty'\nimport { HeadingPlugin } from '../predefined/heading'\nimport { HorizontalRulePlugin } from '../predefined/horizontal-rule'\nimport { ImagePlugin } from '../predefined/image'\nimport { ListItemPlugin } from '../predefined/list-item'\nimport { OrderedListPlugin } from '../predefined/ordered-list'\nimport { ParagraphPlugin } from '../predefined/paragraph'\nimport { PreformattedPlugin } from '../predefined/preformatted'\nimport { Preset } from './preset'\nimport { QuotePlugin } from '../predefined/quote'\nimport { StrongPlugin } from '../predefined/strong'\nimport { UnorderedListPlugin } from '../predefined/unordered-list'\n\nexport default new Preset()\n  .set([ 'a' ], new AnchorPlugin())\n  .set([\n    'blockquote',\n    'dd'\n  ], new BlockQuotePlugin())\n  .set([ 'br' ], new BreakPlugin())\n  .set([\n    'code',\n    'kbd',\n    'samp'\n  ], new CodePlugin())\n  .set([ 'dt' ], new DefinitionTermPlugin())\n  .set([ 'details' ], new DetailsPlugin())\n  .set([\n    'cite',\n    'dfn',\n    'em',\n    'i',\n    'u',\n    'var'\n  ], new EmphasisPlugin())\n  .set([\n    'applet',\n    'area',\n    'audio',\n    'button',\n    'canvas',\n    'datalist',\n    'embed',\n    'head',\n    'input',\n    'map',\n    'menu',\n    'meter',\n    'noframes',\n    'noscript',\n    'object',\n    'optgroup',\n    'option',\n    'param',\n    'progress',\n    'rp',\n    'rt',\n    'ruby',\n    'script',\n    'select',\n    'style',\n    'textarea',\n    'title',\n    'video'\n  ], new EmptyPlugin())\n  .set([\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6'\n  ], new HeadingPlugin())\n  .set([ 'hr' ], new HorizontalRulePlugin())\n  .set([ 'img' ], new ImagePlugin())\n  .set([ 'li' ], new ListItemPlugin())\n  .set([ 'ol' ], new OrderedListPlugin())\n  .set([\n    'address',\n    'article',\n    'aside',\n    'div',\n    'fieldset',\n    'footer',\n    'header',\n    'nav',\n    'p',\n    'section'\n  ], new ParagraphPlugin())\n  .set([ 'pre' ], new PreformattedPlugin())\n  .set([ 'q' ], new QuotePlugin())\n  .set([\n    'b',\n    'strong'\n  ], new StrongPlugin())\n  .set([ 'ul' ], new UnorderedListPlugin())\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Transformer } from './transformer'\nimport defaultPreset from './plugin/preset/default'\n\n/**\n * An HTML to Markdown transformation library that supports HTML strings and DOM elements.\n *\n * @public\n */\nclass Europa {\n\n  /**\n   * Creates an instance of {@link Europa} using the window service provided.\n   *\n   * @param {WindowService} windowService - the {@link WindowService} to be used for HTML to Markdown transformation\n   * @public\n   */\n  constructor(windowService) {\n    /**\n     * The {@link WindowService} for this {@link Europa} instance.\n     *\n     * @private\n     * @type {WindowService}\n     */\n    this._windowService = windowService\n\n    /**\n     * The <code>Window</code> to be used for HTML to Markdown transformation.\n     *\n     * @private\n     * @type {Window}\n     */\n    this._window = null\n\n    /**\n     * The plugins for this {@link Europa} instance.\n     *\n     * @private\n     * @type {Map<string, Plugin>}\n     */\n    this._plugins = new Map()\n\n    this.registerPreset(defaultPreset)\n  }\n\n  /**\n   * Destroys the <code>Window</code> used by this {@link Europa} instance.\n   *\n   * This allows closeable {@link WindowService} implementations to close the <code>Window</code> and free up resources.\n   * However, this instance can and will simply retrieve another <code>Window</code> from the {@link WindowService} the\n   * next time it is required.\n   *\n   * @return {Europa} A reference to this {@link Europa} for chaining purposes.\n   * @public\n   */\n  destroy() {\n    if (this._window) {\n      this._windowService.closeWindow(this._window)\n      this._window = null\n    }\n\n    return this\n  }\n\n  /**\n   * Registers the specified <code>plugin</code> for the <code>tags</code> provided.\n   *\n   * <code>tags</code> can be an array of tag names or a single string containing white-space separated tag names.\n   *\n   * @param {string|string[]} tags - the tag names for which <code>plugin</code> is to be registered\n   * @param {Plugin} plugin - the {@link Plugin} to be registered\n   * @return {Europa} A reference to this {@link Europa} for chaining purposes.\n   * @public\n   */\n  register(tags, plugin) {\n    if (typeof tags === 'string') {\n      tags = tags.trim().split(/\\s+/)\n    }\n\n    for (const tag of tags) {\n      this._plugins.set(tag.toLowerCase(), plugin)\n    }\n\n    return this\n  }\n\n  /**\n   * Registers all of the plugins within the specified <code>preset</code>.\n   *\n   * @param {Preset} preset - the {@link Preset} whose plugins are to be registered\n   * @return {Europa} A reference to this {@link Europa} for chaining purposes.\n   * @public\n   */\n  registerPreset(preset) {\n    for (const [ tags, plugin ] of preset.plugins) {\n      this.register(tags, plugin)\n    }\n\n    return this\n  }\n\n  /**\n   * Transforms the specified <code>html</code> into Markdown using the <code>options</code> provided.\n   *\n   * <code>html</code> can either be an HTML string or a DOM element whose HTML contents are to be transformed into\n   * Markdown.\n   *\n   * @param {Element|string} html - the HTML (or element whose inner HTML) to be transformed into Markdown\n   * @param {Transformation~Options} [options] - the options to be used\n   * @return {string} The transformed Markdown.\n   * @public\n   */\n  transform(html, options) {\n    const { window } = this\n    const transformer = new Transformer(window, this._plugins)\n\n    options = this._createTransformationOptions(options)\n\n    return transformer.transform(html, options)\n  }\n\n  /**\n   * Creates the options, including their default values, for the {@link Transformer#transform} method based on the\n   * <code>options</code> provided.\n   *\n   * @param {Transformation~Options} [options] - the options that were passed in\n   * @return {Transformation~Options} The complete options.\n   * @private\n   */\n  _createTransformationOptions(options) {\n    return Object.assign({\n      absolute: false,\n      baseUri: this._windowService.getBaseUri(this.window),\n      inline: false\n    }, options)\n  }\n\n  /**\n   * Returns the <code>Window</code> for this {@link Europa} instance.\n   *\n   * If no <code>Window</code> has been allocated, one is retrieved from the {@link WindowService} and allocated.\n   *\n   * @return {Window} The <code>Window</code>.\n   * @public\n   */\n  get window() {\n    if (this._window == null) {\n      this._window = this._windowService.getWindow()\n    }\n\n    return this._window\n  }\n\n}\n\nexport { Europa }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Utilities } from '../utilities'\n\n/**\n * A service used to retrieve the <code>Window</code> object for transforming HTML to Markdown and, optionally, to close\n * it upon destruction of the {@link Europa} instance. This can be useful to free up resources as/when required in an\n * artificial browser environment.\n *\n * @public\n */\nclass WindowService {\n\n  /**\n   * Closes the specified <code>window</code> but only if this {@link WindowService} is closeable.\n   *\n   * @param {Window} window - the <code>Window</code> to be closed\n   * @return {void}\n   * @public\n   */\n  closeWindow(window) {\n    if (this.isCloseable(window)) {\n      window.close()\n    }\n  }\n\n  /**\n   * Returns the base URI for the specified <code>window</code>.\n   *\n   * Implementations <b>must</b> override this method.\n   *\n   * @param {Window} window - the <code>Window</code> for which the base URI is to be returned\n   * @return {string} The base URI for <code>window</code>.\n   * @public\n   * @abstract\n   */\n  getBaseUri(window) {\n    Utilities.throwUnimplemented('WindowService', 'getBaseUri')\n  }\n\n  /**\n   * Returns a <code>Window</code> to be used for transforming HTML to Markdown.\n   *\n   * Implementations <b>must</b> override this method.\n   *\n   * @return {Window} The <code>Window</code>.\n   * @public\n   * @abstract\n   */\n  getWindow() {\n    Utilities.throwUnimplemented('WindowService', 'getWindow')\n  }\n\n  /**\n   * Returns whether the specified <code>window</code> which was retrieved by this {@link WindowService} is closeable.\n   *\n   * @param {Window} window - the <code>Window</code> to be checked\n   * @return {boolean} <code>true</code> if <code>window</code> is closeable; otherwise <code>false</code>.\n   * @public\n   */\n  isCloseable(window) {\n    return false\n  }\n\n}\n\nexport { WindowService }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { WindowService } from 'europa-core/src/service/window-service'\n\n/**\n * A very simplistic implementation of {@link WindowService} that returns the global <code>Window</code> object to be\n * used for transforming HTML into Markdown.\n *\n * @public\n * @extends {WindowService}\n */\nclass NativeWindowService extends WindowService {\n\n  /**\n   * @override\n   */\n  getBaseUri(window) {\n    return window.document.baseURI\n  }\n\n  /**\n   * @override\n   */\n  getWindow() {\n    return window\n  }\n\n}\n\nexport { NativeWindowService }\n","/*\n * Copyright (C) 2016 Alasdair Mercer, Skelp\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport Europa from 'europa-core'\n\nimport { NativeWindowService } from './service/native-window-service'\n\nexport default new Europa(new NativeWindowService())\n"],"names":["global","module","window","Math","self","Function","__g","core","version","__e","it","TypeError","aFunction","require$$0","fn","that","length","undefined","a","call","b","c","apply","arguments","isObject","exec","e","Object","defineProperty","get","require$$1","document","is","createElement","require$$2","S","val","toString","valueOf","anObject","require$$3","IE8_DOM_DEFINE","toPrimitive","O","P","Attributes","dP","value","bitmap","enumerable","configurable","writable","createDesc","object","key","f","ctx","hide","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","C","this","virtual","R","U","hasOwnProperty","slice","cof","propertyIsEnumerable","split","defined","IObject","ceil","floor","isNaN","toInteger","min","max","index","toLength","toIndex","IS_INCLUDES","$this","el","fromIndex","toIObject","SHARED","store","id","px","random","concat","shared","uid","has","arrayIndexOf","IE_PROTO","names","i","result","push","$keys","enumBugKeys","keys","getOwnPropertySymbols","getKeys","require$$5","gOPS","require$$4","pIE","toObject","$assign","assign","A","Symbol","K","forEach","k","join","T","aLen","getSymbols","isEnum","j","default","__esModule","done","defineProperties","Properties","documentElement","dPs","Empty","createDict","iframeDocument","iframe","lt","gt","style","display","appendChild","src","contentWindow","open","write","close","create","USE_SYMBOL","$exports","def","TAG","tag","stat","prototype","descriptor","IteratorPrototype","Constructor","NAME","next","setToStringTag","ObjectProto","getPrototypeOf","constructor","LIBRARY","require$$9","require$$8","redefine","require$$7","require$$6","$iterCreate","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","Iterators","values","addToUnscopables","step","Array","iterated","_t","_i","_k","Arguments","TO_STRING_TAG","collections","Collection","TO_STRING","pos","s","String","l","charCodeAt","charAt","$at","point","ARG","tryGet","callee","classof","isIterable","getIteratorMethod","getIterator","iterFn","_interopRequireDefault","obj","_isIterable2","_isIterable3","_getIterator2","_getIterator3","sliceIterator","arr","_arr","_n","_d","_e","_s","err","isArray","safe","forbiddenField","iterator","ret","ArrayProto","isArrayIter","getIterFn","BREAK","RETURN","iterable","SPECIES","KEY","DESCRIPTORS","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","require$$11","require$$10","redefineAll","anInstance","forOf","$iterDefine","setSpecies","SIZE","getEntry","entry","_f","n","getConstructor","wrapper","IS_MAP","ADDER","_l","clear","data","r","p","delete","prev","callbackfn","v","setStrong","arg","original","speciesConstructor","asc","TYPE","$create","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","res","require$$12","fails","each","common","IS_WEAK","_c","IS_ADDER","size","strong","set","iter","from","toJSON","Map","instance","$Object","desc","_defineProperty","_defineProperty2","props","protoProps","staticProps","$defineProperty","SAFE_CLOSING","riter","skipClosing","createProperty","arrayLike","mapfn","mapping","exp","isEntries","Transformation","transformer","options","atLeft","atNoWhiteSpace","atParagraph","buffer","context","inCodeBlock","inOrderedList","inPreformattedBlock","last","left","listDepth","listIndex","pluginStack","_document","_element","_tagName","_window","string","append","clean","replace","_Object$entries","REPLACEMENTS","expression","REPLACEMENTS_REGEXP","test","tagName","toLowerCase","_Object$keys","RegExp","Transformer","plugins","_plugins","html","root","innerHTML","transformation","plugin","beforeAll","transformElement","afterAll","trim","element","nodeType","Node","ELEMENT_NODE","_isVisible","transformChildren","before","transform","_Array$from","childNodes","child","after","pop","TEXT_NODE","nodeValue","output","getComputedStyle","getPropertyValue","$getPrototypeOf","$Symbol","wksExt","symbols","hiddenKeys","getOwnPropertyNames","windowNames","getWindowNames","gOPN","getOwnPropertyDescriptor","gOPD","require$$29","require$$28","require$$27","require$$26","require$$25","require$$24","$fails","require$$23","require$$22","require$$21","require$$20","wks","require$$19","require$$18","wksDefine","require$$17","keyOf","require$$16","enumKeys","require$$15","require$$14","require$$13","_create","gOPNExt","$GOPD","$DP","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","D","protoDesc","wrap","sym","isSymbol","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","for","keyFor","useSetter","useSimple","replacer","$replacer","args","_iterator","_iterator2","_symbol","_symbol2","_typeof","_typeof2","_typeof3","ReferenceError","check","setPrototypeOf","buggy","__proto__","_setPrototypeOf","_setPrototypeOf2","_create2","subClass","superClass","Plugin","AnchorPlugin","anchors","href","absolute","getAttribute","title","inline","anchorMap","BlockQuotePlugin","appendParagraph","BreakPlugin","CodePlugin","_getPrototypeOf","_getPrototypeOf2","_getOwnPropertyDescriptor","_getOwnPropertyDescriptor2","property","receiver","parent","getter","StrongPlugin","DefinitionTermPlugin","DetailsPlugin","hasAttribute","summary","querySelector","EmphasisPlugin","EmptyPlugin","HeadingPlugin","level","parseInt","match","heading","HorizontalRulePlugin","ImagePlugin","images","alternativeText","imageMap","Utilities","times","padding","className","methodName","Error","ListItemPlugin","leftPad","OrderedListPlugin","ParagraphPlugin","PreformattedPlugin","Preset","tags","QuotePlugin","UnorderedListPlugin","Europa","windowService","_windowService","registerPreset","defaultPreset","closeWindow","preset","register","_createTransformationOptions","_Object$assign","getBaseUri","getWindow","WindowService","isCloseable","throwUnimplemented","NativeWindowService","baseURI"],"mappings":"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"}